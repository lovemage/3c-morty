[phases.setup]
nixPkgs = ['nodejs_20', 'python3']

[providers]
node = "nodejs_20"

[phases.install]
dependsOn = ['setup']
cmds = [
  'echo "ğŸ“¦ å®‰è£ä¾è³´ï¼š"',
  'npm ci'
]

[phases.build]
dependsOn = ['install']
cmds = [
  'echo "ğŸ”¨ æ§‹å»ºå‰ç«¯ï¼š"',
  'npm run build',
  'echo "âœ… æ§‹å»ºå®Œæˆ"'
]

[start]
cmd = 'npm start'

[deploy]
type = "node"

[variables]
NODE_ENV = 'production'

# Railway æ¨™æº–éƒ¨ç½²é…ç½® - ç„¡æŒä¹…åŒ–å·
# é …ç›®æ ¹ç›®éŒ„: å·¥ä½œç›®éŒ„
# æ•¸æ“šåº«è·¯å¾‘: server/database/database.db (ç›¸å°è·¯å¾‘)
# éœæ…‹æ–‡ä»¶: public/images/ (ç›¸å°è·¯å¾‘)
# æ§‹å»ºè¼¸å‡º: dist/ (ç›¸å°è·¯å¾‘)
# å•Ÿå‹•æ–‡ä»¶: server/index.js (ç›¸å°è·¯å¾‘) 